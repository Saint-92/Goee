document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll('a[href^="#"]').forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();const t=document.querySelector(this.getAttribute("href"));t&&t.scrollIntoView({behavior:"smooth"})}))}));const e=document.getElementById("header");let t=0;e&&window.addEventListener("scroll",(function(){const a=window.pageYOffset||document.documentElement.scrollTop;a>1?e.classList.add("white"):e.classList.remove("white"),t=a})),window.formatDate=function(e){return`${e.getDate()} ${["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"][e.getMonth()]} ${e.getFullYear()}`};const a={images:[{id:1,main:"images/Adria.jpg",thumbnail:"images/thumb-1.jpg",alt:"Adria S75 SL 2023 Exterior"},{id:2,main:"images/main-2.jpeg",thumbnail:"images/thumb-2.jpg",alt:"Adria S75 SL 2023 Living Area"},{id:3,main:"images/main-3.jpeg",thumbnail:"images/thumb-3.jpg",alt:"Adria S75 SL 2023 Kitchen"},{id:4,main:"images/main-4.jpeg",thumbnail:"images/thumb-4.jpg",alt:"Adria S75 SL 2023 Bedroom"},{id:5,main:"images/main-5.jpeg",thumbnail:"images/thumb-5.jpg",alt:"Adria S75 SL 2023 Bathroom"},{id:6,main:"images/main-6.jpeg",thumbnail:"images/thumb-6.jpg",alt:"Adria S75 SL 2023 Dashboard"},{id:7,main:"images/main-7.jpeg",thumbnail:"images/thumb-7.jpg",alt:"Adria S75 SL 2023 Storage"},{id:8,main:"images/main-8.jpeg",thumbnail:"images/thumb-8.jpg",alt:"Adria S75 SL 2023 Exterior Back"}],selectedDates:{start:new Date(2025,10,29),end:new Date(2025,11,13)},currentImageIndex:0};function n(){const e=document.getElementById("selectedPeriod");if(e&&a.selectedDates.start&&a.selectedDates.end){const t=a.selectedDates.start,n=a.selectedDates.end,o=formatDate(t),s=formatDate(n),i=Math.abs(n.getTime()-t.getTime()),r=Math.ceil(i/864e5)+1;e.textContent=`${o} - ${s} (${r} DAYS)`}}const o={norway:{map:"norway-map",markers:"norway-markers",title:"The Grand Voyager: From Fjords to the Arctic",description:"This epic route will take you from the heart of the Norwegian fjords to the harsh beauty of the Arctic Circle, revealing all of Norway's contrasts. Perfect for those who want to see the most impressive sights in one trip.",days:"14-16 days",distance:"~2200 - 2500 km"},austria:{map:"austria-map",markers:"austria-markers",title:"Alpine Adventure: Austrian Mountain Odyssey",description:"Discover the majestic Austrian Alps on this breathtaking route through snow-capped peaks, crystal-clear lakes, and charming mountain villages. Experience the best of Austrian culture and natural beauty.",days:"10-12 days",distance:"~1200 - 1500 km"}};let s={},i="norway";function r(e,t){const a=document.getElementById(`${e}-markers`);if(!a)return;const n=a.querySelectorAll(".marker"),o=a.querySelectorAll(".marker-popup");n.forEach((e=>e.classList.remove("active"))),o.forEach((e=>e.classList.remove("show")));const s=t+1,i=a.querySelector(`.marker[data-day="${s}"]`),r=a.querySelector(`#popup-${s}-${e}`);if(i&&i.classList.add("active"),r){const e=i.offsetTop,t=i.offsetLeft;r.style.top=e-r.offsetHeight-10+"px",r.style.left=`${t}px`,r.classList.add("show"),setTimeout((()=>{r.classList.remove("show")}),3e3)}}!function(){const e=document.getElementById("mainImage"),t=document.getElementById("thumbnailList");e&&t&&(a.images.length>0&&(e.src=a.images[0].main,e.alt=a.images[0].alt),a.images.forEach(((e,n)=>{const o=document.createElement("li");o.className="motorhomes__nav--item"+(0===n?" active":""),o.setAttribute("data-index",n);const s=document.createElement("button");s.className="motorhomes__nav--btn",s.setAttribute("aria-label",`View image ${n+1}`);const i=document.createElement("img");i.src=e.thumbnail,i.alt=e.alt,i.className="motorhomes__nav--img",s.appendChild(i),o.appendChild(s),t.appendChild(o),s.addEventListener("click",(()=>function(e){if(e<0||e>=a.images.length)return;a.currentImageIndex=e;const t=document.getElementById("mainImage");t.src=a.images[e].main,t.alt=a.images[e].alt,document.querySelectorAll(".motorhomes__nav--item").forEach(((t,a)=>{a===e?(t.classList.add("active"),t.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})):t.classList.remove("active")}))}(n)))})),e.addEventListener("click",(()=>openLightbox(a.currentImageIndex))),function(){const e=document.querySelectorAll(".motorhomes-tabs--btn"),t=document.querySelectorAll(".motorhomes-content");e.forEach((a=>{a.addEventListener("click",(()=>{const n=a.getAttribute("data-tab");e.forEach((e=>e.classList.remove("active"))),a.classList.add("active"),t.forEach((e=>e.classList.remove("active"))),document.getElementById(n)?.classList.add("active")}))}))}(),function(){const e=document.getElementById("lightboxToggle"),t=document.getElementById("lightbox"),n=document.getElementById("lightboxClose"),o=document.getElementById("lightboxImage"),s=document.getElementById("lightboxPrev"),i=document.getElementById("lightboxNext");if(!e||!t)return;function r(e){a.currentImageIndex=e,o.src=a.images[e].main,o.alt=a.images[e].alt,t.classList.add("active"),document.body.style.overflow="hidden"}function c(){t.classList.remove("active"),document.body.style.overflow="auto"}function l(e){let t=a.currentImageIndex+e;t<0?t=a.images.length-1:t>=a.images.length&&(t=0),r(t)}e.addEventListener("click",(e=>{e.stopPropagation(),r(a.currentImageIndex)})),n?.addEventListener("click",c),t.addEventListener("click",(e=>{e.target===t&&c()})),s?.addEventListener("click",(()=>l(-1))),i?.addEventListener("click",(()=>l(1))),document.addEventListener("keydown",(e=>{if(t.classList.contains("active"))switch(e.key){case"Escape":c();break;case"ArrowLeft":l(-1);break;case"ArrowRight":l(1)}}))}(),function(){const e=document.getElementById("calendarModal"),t=document.getElementById("openCalendar"),o=document.getElementById("calendarClose"),s=document.getElementById("cancelDates"),i=document.getElementById("applyDates"),r=document.getElementById("datepicker");if(!e||!t)return;const c=flatpickr(r,{mode:"range",dateFormat:"Y-m-d",minDate:"today",defaultDate:[a.selectedDates.start,a.selectedDates.end],onChange:function(e){2===e.length&&(a.selectedDates.start=e[0],a.selectedDates.end=e[1])}});function l(){e.classList.remove("active"),document.body.style.overflow="auto"}t.addEventListener("click",(()=>{e.classList.add("active"),document.body.style.overflow="hidden"})),o?.addEventListener("click",l),s?.addEventListener("click",l),i?.addEventListener("click",(()=>{const e=c.selectedDates;2===e.length?(a.selectedDates.start=e[0],a.selectedDates.end=e[1],n(),l()):alert("Please select a date range")})),e.addEventListener("click",(t=>{t.target===e&&l()}))}(),n(),document.querySelectorAll(".motorhomes-buttons--btn").forEach((e=>{e.addEventListener("click",(function(){const e=this.textContent.trim().toLowerCase();if("get in touch"===e)alert("Contact form will open here. You selected period: "+document.getElementById("selectedPeriod").textContent);else if("book now"===e){const e=document.getElementById("agreeTerms")?.checked;e?alert("Booking confirmed for period: "+document.getElementById("selectedPeriod").textContent):alert("Please agree to the rental terms and privacy policy")}}))})))}(),function(){const e=document.querySelector("#route-1 .swiper"),t=document.querySelector("#route-2 .swiper");e&&(s.norway=new Swiper(e,{direction:"horizontal",loop:!1,pagination:{el:"#route-1 .swiper-pagination",clickable:!0},navigation:{nextEl:"#route-1 .swiper-button-next",prevEl:"#route-1 .swiper-button-prev"}}),s.norway.on("slideChange",(function(){r("norway",this.activeIndex)}))),t&&(s.austria=new Swiper(t,{direction:"horizontal",loop:!1,pagination:{el:"#route-2 .swiper-pagination",clickable:!0},navigation:{nextEl:"#route-2 .swiper-button-next",prevEl:"#route-2 .swiper-button-prev"}}),s.austria.on("slideChange",(function(){r("austria",this.activeIndex)}))),["norway","austria"].forEach((e=>{const t=document.getElementById(`${e}-markers`);if(!t)return;const a=t.querySelectorAll(".marker");t.querySelectorAll(".marker-popup"),a.forEach((a=>{const n=a.getAttribute("data-day"),o=t.querySelector(`#popup-${n}-${e}`);a.addEventListener("mouseenter",(function(){if(this.classList.add("active"),o){const e=this.offsetTop,t=this.offsetLeft;o.style.top=e-o.offsetHeight-10+"px",o.style.left=`${t}px`,o.classList.add("show")}i===e&&s[e]&&s[e].slideTo(parseInt(n)-1)})),a.addEventListener("mouseleave",(function(){this.classList.remove("active"),o&&o.classList.remove("show")})),a.addEventListener("click",(function(){i===e&&s[e]&&s[e].slideTo(parseInt(n)-1)}))}))})),document.querySelectorAll(".swiper-slide").forEach(((e,t)=>{e.addEventListener("mouseenter",(function(){const e=document.querySelector(".routes__item.active")?.id,a="route-1"===e?"norway":"austria",n=document.getElementById(`${a}-markers`);if(!n)return;const o=n.querySelectorAll(".marker"),s=n.querySelectorAll(".marker-popup");o.forEach((e=>e.classList.remove("active"))),s.forEach((e=>e.classList.remove("show")));const i=t+1,r=n.querySelector(`.marker[data-day="${i}"]`),c=n.querySelector(`#popup-${i}-${a}`);if(r&&r.classList.add("active"),c){const e=r.offsetTop,t=r.offsetLeft;c.style.top=e-c.offsetHeight-10+"px",c.style.left=`${t}px`,c.classList.add("show")}})),e.addEventListener("mouseleave",(function(){const e=document.querySelector(".routes__item.active")?.id,t="route-1"===e?"norway":"austria",a=document.getElementById(`${t}-markers`);if(!a)return;const n=a.querySelectorAll(".marker"),o=a.querySelectorAll(".marker-popup");n.forEach((e=>e.classList.remove("active"))),o.forEach((e=>e.classList.remove("show")))}))})),document.querySelectorAll(".routes-tabs--btn").forEach((e=>{e.addEventListener("click",(function(){!function(e){document.querySelectorAll(".routes-tabs--btn").forEach((t=>{t.classList.remove("active"),t.dataset.route===e&&t.classList.add("active")})),document.querySelectorAll(".routes__item").forEach((e=>{e.classList.remove("active")})),"norway"===e?document.getElementById("route-1")?.classList.add("active"):document.getElementById("route-2")?.classList.add("active");(function(e){document.querySelectorAll(".map-image").forEach((e=>e.classList.remove("active"))),document.querySelectorAll(".markers-container").forEach((e=>e.classList.remove("active"))),document.querySelectorAll(".route-line").forEach((e=>e.classList.remove("active")));const t=o[e];document.getElementById(t.map)?.classList.add("active"),document.getElementById(t.markers)?.classList.add("active");const a=document.querySelector(`#${t.markers} .route-line`);a&&a.classList.add("active")})(e),s[e]&&s[e].slideTo(0);i=e}(this.dataset.route)}))}))}(),function(){const e=document.querySelector(".reviews-slider");if(!e)return;const t=new Swiper(e,{slidesPerView:1,spaceBetween:10,loop:!1,navigation:{nextEl:"#reviewsNext",prevEl:"#reviewsPrev"},breakpoints:{768:{slidesPerView:2,spaceBetween:10},992:{slidesPerView:3,spaceBetween:10}}});function a(){const e=window.innerWidth<768?1:window.innerWidth<992?2:3,a=t.realIndex+1,n=Math.max(t.slides.length-e+1,1),o=document.getElementById("currentSlide"),s=document.getElementById("totalSlides");o&&(o.textContent=a),s&&(s.textContent=n);const i=document.getElementById("reviewsPagination");if(i){i.innerHTML="";for(let e=0;e<n;e++){const a=document.createElement("div");a.className="reviews__pagination--bullet"+(e===t.realIndex?" active":""),a.dataset.index=e,a.setAttribute("aria-label",`Go to review ${e+1}`),a.addEventListener("click",(()=>t.slideTo(e))),i.appendChild(a)}}}let n;a(),t.on("slideChange",(()=>{const e=document.querySelectorAll(".reviews__pagination--bullet"),a=document.getElementById("currentSlide");a&&(a.textContent=t.realIndex+1),e.forEach(((e,a)=>{e.classList.toggle("active",a===t.realIndex)}))})),window.addEventListener("resize",(function(){clearTimeout(n),n=setTimeout(a,150)}))}(),function(){const e=document.querySelectorAll(".faq__item"),t=document.getElementById("faqMore"),a=document.querySelectorAll(".faq__item.hidden");if(0===e.length)return;let n=!1;function o(){e.forEach((e=>e.classList.remove("active")))}function s(e){const t=e.classList.contains("active");o(),t||e.classList.add("active")}e.forEach((e=>{e.addEventListener("click",(function(e){e.target!==t&&s(this)}))})),t&&a.length>0&&t.addEventListener("click",(function(){n?(a.forEach((e=>{e.classList.add("hidden"),e.classList.remove("show"),e.classList.remove("active")})),this.textContent="View more",n=!1,document.getElementById("faq")?.scrollIntoView({behavior:"smooth",block:"start"})):(a.forEach((e=>{e.classList.remove("hidden"),e.classList.add("show")})),this.textContent="Show less",n=!0)})),e[0]?.classList.add("active"),document.addEventListener("keydown",(function(e){const t=document.querySelector(".faq__item.active"),a=document.querySelectorAll(".faq__item:not(.hidden)");if(!t)return;const n=Array.from(a).indexOf(t);switch(e.key){case"ArrowDown":e.preventDefault(),n<a.length-1&&(s(a[n+1]),a[n+1].focus());break;case"ArrowUp":e.preventDefault(),n>0&&(s(a[n-1]),a[n-1].focus());break;case"Home":e.preventDefault(),s(a[0]),a[0].focus();break;case"End":e.preventDefault(),s(a[a.length-1]),a[a.length-1].focus();break;case"Escape":o()}}))}()}));