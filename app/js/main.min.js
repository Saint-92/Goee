const ROUTES_DATA={norway:{map:"norway-map",markers:"norway-markers",title:"The Grand Voyager: From Fjords to the Arctic",description:"This epic route will take you from the heart of the Norwegian fjords to the harsh beauty of the Arctic Circle, revealing all of Norway's contrasts. Perfect for those who want to see the most impressive sights in one trip.",days:"14-16 days",distance:"~2200 - 2500 km"},austria:{map:"austria-map",markers:"austria-markers",title:"Alpine Adventure: Austrian Mountain Odyssey",description:"Discover the majestic Austrian Alps on this breathtaking route through snow-capped peaks, crystal-clear lakes, and charming mountain villages. Experience the best of Austrian culture and natural beauty.",days:"10-12 days",distance:"~1200 - 1500 km"}},MOTORHOMES_DATA={images:[{id:1,src:"../images/Adria.jpg",alt:"Adria S75 SL 2023 Exterior"},{id:2,src:"../images/main-2.jpeg",alt:"Adria S75 SL 2023 Interior"},{id:3,src:"../images/main-3.jpeg",alt:"Adria S75 SL 2023 Kitchen"},{id:4,src:"../images/main-4.jpeg",alt:"Adria S75 SL 2023 Bedroom"}],selectedDates:{start:new Date(2025,10,29),end:new Date(2025,11,13)},pricePerDay:149,currentImageIndex:0,lightbox:null,swiper:null,shareUrl:"",shareText:""};let swipers={},currentRoute="norway";const Utils={initSmoothScroll(){document.querySelectorAll('a[href^="#"]').forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();const t=document.querySelector(this.getAttribute("href"));t&&t.scrollIntoView({behavior:"smooth"})}))}))},initHeaderScroll(){const e=document.getElementById("header");if(!e)return;let t=0;window.addEventListener("scroll",(function(){const o=window.pageYOffset||document.documentElement.scrollTop;o>1?e.classList.add("white"):e.classList.remove("white"),t=o}))},formatDate:e=>`${e.getDate()} ${["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"][e.getMonth()]} ${e.getFullYear()}`,formatDateForURL:e=>`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`,parseDateFromURL(e){const t=e.split("-");if(3===t.length){const e=parseInt(t[0],10),o=parseInt(t[1],10)-1,n=parseInt(t[2],10);return new Date(e,o,n)}return null},showNotification(e){let t=document.getElementById("copy-notification");t||(t=document.createElement("div"),t.id="copy-notification",document.body.appendChild(t)),t.textContent=e,t.classList.add("show"),setTimeout((()=>{t.classList.remove("show")}),3e3)}},MotorhomesModule={init(){this.initSwiper(),this.initLightbox(),this.initCalendar(),this.initShareButton(),this.updatePrices(),this.initTabs(),this.updateSelectedPeriod(),this.initCustomNavigation(),this.initBookingModal(),this.initShareMenu(),this.applyUrlParams()},initSwiper(){const e=document.querySelector(".motorhomes-swiper .swiper-wrapper");e?(e.innerHTML="",MOTORHOMES_DATA.images.forEach(((t,o)=>{const n=document.createElement("div");n.className="swiper-slide";const s=document.createElement("img");s.src=t.src,s.alt=t.alt,s.className="swiper-image",s.loading="lazy";const a=document.createElement("a");a.href=t.src,a.setAttribute("data-lightbox","motorhomes-gallery"),a.setAttribute("data-title",t.alt),a.appendChild(s),n.appendChild(a),e.appendChild(n)})),MOTORHOMES_DATA.swiper=new Swiper(".motorhomes-swiper",{slidesPerView:1,spaceBetween:0,loop:!1,pagination:{el:".swiper-pagination",clickable:!0,dynamicBullets:!0},navigation:!1,speed:500,on:{slideChange:function(){MOTORHOMES_DATA.currentImageIndex=this.realIndex},init:function(){console.log("Swiper initialized with custom navigation")}}})):console.error("Swiper wrapper not found")},initCustomNavigation(){const e=document.getElementById("motorhomesPrev"),t=document.getElementById("motorhomesNext");e&&MOTORHOMES_DATA.swiper&&(e.addEventListener("click",(()=>{MOTORHOMES_DATA.swiper.slidePrev()})),MOTORHOMES_DATA.swiper.isBeginning&&!MOTORHOMES_DATA.swiper.params.loop&&e.classList.add("swiper-button-disabled")),t&&MOTORHOMES_DATA.swiper&&(t.addEventListener("click",(()=>{MOTORHOMES_DATA.swiper.slideNext()})),MOTORHOMES_DATA.swiper.isEnd&&!MOTORHOMES_DATA.swiper.params.loop&&t.classList.add("swiper-button-disabled")),MOTORHOMES_DATA.swiper&&MOTORHOMES_DATA.swiper.on("slideChange",(function(){e&&t&&(this.isBeginning&&!this.params.loop?e.classList.add("swiper-button-disabled"):e.classList.remove("swiper-button-disabled"),this.isEnd&&!this.params.loop?t.classList.add("swiper-button-disabled"):t.classList.remove("swiper-button-disabled"))}))},initLightbox(){console.log("Initializing SimpleLightbox..."),MOTORHOMES_DATA.lightbox=new SimpleLightbox('[data-lightbox="motorhomes-gallery"]',{captions:!0,captionsData:"title",captionPosition:"bottom",close:!0,nav:!0,navText:["‹","›"],history:!1,alertError:!0,docClose:!0,disableScroll:!0,scrollZoom:!1,animationSpeed:300,widthRatio:.9,heightRatio:.9,scaleImageToRatio:!0,disableRightClick:!1,uniqueImages:!0,fileExt:!1}),console.log("SimpleLightbox initialized:",MOTORHOMES_DATA.lightbox);const e=document.getElementById("lightboxToggle");e&&e.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation(),console.log("Lightbox toggle clicked");const t=MOTORHOMES_DATA.swiper?MOTORHOMES_DATA.swiper.realIndex:0;try{const e=document.querySelectorAll('[data-lightbox="motorhomes-gallery"]');e.length>0&&e[t]&&(e[t].click(),console.log("Opened lightbox at index:",t))}catch(e){console.error("Error opening lightbox:",e)}})),document.querySelectorAll(".swiper-slide img").forEach((e=>{e.style.cursor="pointer",e.addEventListener("click",(t=>{t.preventDefault(),t.stopPropagation();const o=e.closest("a");o&&MOTORHOMES_DATA.lightbox&&o.click()}))}))},initCalendar(){const e=document.getElementById("calendarModal"),t=document.getElementById("openCalendar"),o=document.getElementById("calendarClose"),n=document.getElementById("cancelDates"),s=document.getElementById("applyDates"),a=document.getElementById("datepicker");if(!t||!a)return void console.error("Calendar elements not found");let i=null;try{i=flatpickr(a,{mode:"range",dateFormat:"d M Y",minDate:"today",defaultDate:[MOTORHOMES_DATA.selectedDates.start,MOTORHOMES_DATA.selectedDates.end],onChange:function(e){2===e.length&&(MOTORHOMES_DATA.selectedDates.start=e[0],MOTORHOMES_DATA.selectedDates.end=e[1])}}),console.log("Flatpickr initialized successfully")}catch(e){console.error("Error initializing Flatpickr:",e)}function r(){e.classList.remove("active"),document.body.style.overflow="auto"}t.addEventListener("click",(()=>{e.classList.add("active"),document.body.style.overflow="hidden"})),o?.addEventListener("click",r),n?.addEventListener("click",r),s?.addEventListener("click",(()=>{if(i){const e=i.selectedDates;2===e.length?(MOTORHOMES_DATA.selectedDates.start=e[0],MOTORHOMES_DATA.selectedDates.end=e[1],this.updateSelectedPeriod(),this.updatePrices(),r(),this.updateUrlWithDates(e[0],e[1])):alert("Please select both start and end dates")}})),e?.addEventListener("click",(t=>{t.target===e&&r()}))},updateUrlWithDates(e,t){const o=document.getElementById("shareButton"),n=o?.getAttribute("data-motorhome-id")||"adria-s75-sl-2023",s=Utils.formatDateForURL(e),a=Utils.formatDateForURL(t),i=new URL(window.location.origin+window.location.pathname);i.hash=`#motorhome-${n}`,i.searchParams.set("motorhome",n),i.searchParams.set("start_date",s),i.searchParams.set("end_date",a),window.history.pushState({},"",i.toString())},updateSelectedPeriod(){const e=document.getElementById("selectedPeriod"),t=document.getElementById("bookingPeriod");if(!e)return void console.error("Period element not found");const o=MOTORHOMES_DATA.selectedDates.start,n=MOTORHOMES_DATA.selectedDates.end,s=Utils.formatDate(o),a=Utils.formatDate(n),i=Math.abs(n.getTime()-o.getTime()),r=`${s} - ${a} (${Math.ceil(i/864e5)+1} DAYS)`;e.textContent=r,t&&(t.textContent=r)},updatePrices(){const e=document.getElementById("dailyPrice"),t=document.getElementById("totalPrice"),o=document.getElementById("oldTotalPrice"),n=document.getElementById("bookingPrice");if(!e||!t||!o)return void console.error("Price elements not found");const s=MOTORHOMES_DATA.selectedDates.start,a=MOTORHOMES_DATA.selectedDates.end,i=Math.abs(a.getTime()-s.getTime()),r=Math.ceil(i/864e5)+1,c=MOTORHOMES_DATA.pricePerDay,l=c*r,d=Math.round(.9*l);e.textContent=`€${c}`,o.textContent=`€${Math.round(l)}`,t.textContent=`€${d}`,n&&(n.textContent=`€${d}`)},initTabs(){const e=document.querySelectorAll(".motorhomes-tabs--btn"),t=document.querySelectorAll(".motorhomes-content");0!==e.length?e.forEach((o=>{o.addEventListener("click",(()=>{const n=o.getAttribute("data-tab");e.forEach((e=>e.classList.remove("active"))),t.forEach((e=>e.classList.remove("active"))),o.classList.add("active");const s=document.getElementById(n);s&&s.classList.add("active")}))})):console.log("No tabs found")},generateShareUrl(){const e=document.getElementById("shareButton"),t=e?.getAttribute("data-motorhome-id")||"adria-s75-sl-2023",o=MOTORHOMES_DATA.selectedDates.start,n=MOTORHOMES_DATA.selectedDates.end,s=Utils.formatDateForURL(o),a=Utils.formatDateForURL(n),i=new URL(window.location.origin+window.location.pathname);return i.hash=`#motorhome-${t}`,i.searchParams.set("motorhome",t),i.searchParams.set("start_date",s),i.searchParams.set("end_date",a),MOTORHOMES_DATA.shareUrl=i.toString(),MOTORHOMES_DATA.shareUrl},initShareButton(){const e=document.getElementById("shareButton");e&&e.addEventListener("click",(e=>{e.preventDefault();const t=this.generateShareUrl(),o=`Check out the Adria S75 SL 2023 motorhome! Available from ${Utils.formatDate(MOTORHOMES_DATA.selectedDates.start)} to ${Utils.formatDate(MOTORHOMES_DATA.selectedDates.end)}.`;navigator.share?navigator.share({title:"Adria S75 SL 2023 Motorhome",text:o,url:t}).then((()=>console.log("Shared successfully"))).catch((e=>{"AbortError"!==e.name&&this.openShareMenu(t,o)})):this.openShareMenu(t,o)}))},initShareMenu(){const e=document.createElement("div");e.className="share-menu",e.innerHTML='\n      <div class="share-content">\n        <h3 class="share-title">Share Motorhome</h3>\n        <div class="share-buttons">\n          <button class="share-button facebook" data-action="facebook">\n            <svg class="share-button-icon" viewBox="0 0 24 24">\n              <path d="M18.77 7.46H14.5v-1.9c0-.9.6-1.1 1-1.1h3V.5h-4.33C10.24.5 9.5 3.44 9.5 5.32v2.15h-3v4h3v12h5v-12h3.85l.42-4z"/>\n            </svg>\n            <span class="share-button-text">Facebook</span>\n          </button>\n          <button class="share-button twitter" data-action="twitter">\n            <svg class="share-button-icon" viewBox="0 0 24 24">\n              <path d="M23.44 4.83c-.8.37-1.5.38-2.22.02.93-.56.98-.96 1.32-2.02-.88.52-1.86.9-2.9 1.1-.82-.88-2-1.43-3.3-1.43-2.5 0-4.55 2.04-4.55 4.54 0 .36.03.7.1 1.04-3.77-.2-7.12-2-9.36-4.75-.4.67-.6 1.45-.6 2.3 0 1.56.8 2.95 2 3.77-.74-.03-1.44-.23-2.05-.57v.06c0 2.2 1.56 4.03 3.64 4.44-.67.2-1.37.2-2.06.08.58 1.8 2.26 3.12 4.25 3.16C5.78 18.1 3.37 18.74 1 18.46c2 1.3 4.4 2.04 6.97 2.04 8.35 0 12.92-6.92 12.92-12.93 0-.2 0-.4-.02-.6.9-.63 1.96-1.22 2.56-2.14z"/>\n            </svg>\n            <span class="share-button-text">Twitter</span>\n          </button>\n          <button class="share-button whatsapp" data-action="whatsapp">\n            <svg class="share-button-icon" viewBox="0 0 24 24">\n              <path d="M20.1 3.9C17.9 1.7 15 .5 12 .5 5.8.5.7 5.6.7 11.9c0 2 .5 3.9 1.5 5.6L.6 23.4l6-1.6c1.6.9 3.5 1.3 5.4 1.3 6.3 0 11.4-5.1 11.4-11.4-.1-2.8-1.2-5.7-3.3-7.8zM12 21.4c-1.7 0-3.3-.5-4.8-1.3l-.4-.2-3.5 1 1-3.4L4 17c-1-1.5-1.4-3.2-1.4-5.1 0-5.2 4.2-9.4 9.4-9.4 2.5 0 4.9 1 6.7 2.8 1.8 1.8 2.8 4.2 2.8 6.7-.1 5.2-4.3 9.4-9.5 9.4zm5.1-7.1c-.3-.1-1.7-.9-1.9-1-.3-.1-.5-.1-.7.1-.2.3-.8 1-.9 1.1-.2.2-.3.2-.6.1s-1.2-.5-2.3-1.4c-.9-.8-1.4-1.7-1.6-2-.2-.3 0-.5.1-.6s.3-.3.4-.5c.2-.1.3-.3.4-.5.1-.2 0-.4 0-.5C10 9 9.3 7.6 9 7c-.1-.4-.4-.3-.5-.3h-.6s-.4.1-.7.3c-.3.3-1 1-1 2.4s1 2.8 1.1 3c.1.2 2 3.1 4.9 4.3.7.3 1.2.5 1.6.6.7.2 1.3.2 1.8.1.6-.1 1.7-.7 1.9-1.3.2-.7.2-1.2.2-1.3-.1-.3-.3-.4-.6-.5z"/>\n            </svg>\n            <span class="share-button-text">WhatsApp</span>\n          </button>\n          <button class="share-button telegram" data-action="telegram">\n            <svg class="share-button-icon" viewBox="0 0 24 24">\n              <path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/>\n            </svg>\n            <span class="share-button-text">Telegram</span>\n          </button>\n          <button class="share-button email" data-action="email">\n            <svg class="share-button-icon" viewBox="0 0 24 24">\n              <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>\n            </svg>\n            <span class="share-button-text">Email</span>\n          </button>\n          <button class="share-button copy-link" data-action="copy">\n            <svg class="share-button-icon" viewBox="0 0 24 24">\n              <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>\n            </svg>\n            <span class="share-button-text">Copy Link</span>\n          </button>\n        </div>\n        <div class="share-url" id="shareUrlDisplay"></div>\n        <button class="share-close" id="shareClose">Close</button>\n      </div>\n    ',document.body.appendChild(e),e.addEventListener("click",(t=>{const o=t.target.closest("[data-action]")?.dataset.action;o&&this.handleShareAction(o),"shareClose"!==t.target.id&&t.target!==e||this.closeShareMenu()}))},openShareMenu(e,t){const o=document.querySelector(".share-menu"),n=document.getElementById("shareUrlDisplay");o&&n&&(n.textContent=e,o.classList.add("active"),document.body.style.overflow="hidden",MOTORHOMES_DATA.shareUrl=e,MOTORHOMES_DATA.shareText=t)},closeShareMenu(){const e=document.querySelector(".share-menu");e&&(e.classList.remove("active"),document.body.style.overflow="auto")},handleShareAction(e){const t=MOTORHOMES_DATA.shareUrl,o=MOTORHOMES_DATA.shareText||"Check out this amazing motorhome!";switch(e){case"facebook":this.shareToFacebook(t,o);break;case"twitter":this.shareToTwitter(t,o);break;case"whatsapp":this.shareToWhatsApp(t,o);break;case"telegram":this.shareToTelegram(t,o);break;case"email":this.shareToEmail(t,o,"Adria S75 SL 2023 Motorhome");break;case"copy":this.copyToClipboard(t)}},shareToFacebook(e,t){const o=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(e)}&quote=${encodeURIComponent(t)}`;window.open(o,"_blank","width=600,height=400")},shareToTwitter(e,t){const o=`https://twitter.com/intent/tweet?url=${encodeURIComponent(e)}&text=${encodeURIComponent(t)}`;window.open(o,"_blank","width=600,height=400")},shareToWhatsApp(e,t){const o=`https://wa.me/?text=${encodeURIComponent(t+" "+e)}`;window.open(o,"_blank")},shareToTelegram(e,t){const o=`https://t.me/share/url?url=${encodeURIComponent(e)}&text=${encodeURIComponent(t)}`;window.open(o,"_blank","width=600,height=400")},shareToEmail(e,t,o){const n=`mailto:?subject=${encodeURIComponent(o)}&body=${encodeURIComponent(t+"\n\n"+e)}`;window.location.href=n},copyToClipboard(e){navigator.clipboard&&window.isSecureContext?navigator.clipboard.writeText(e).then((()=>{Utils.showNotification("Link copied to clipboard!"),this.closeShareMenu()})).catch((t=>{console.error("Failed to copy: ",t),this.fallbackCopy(e)})):this.fallbackCopy(e)},fallbackCopy(e){const t=document.getElementById("hiddenCopyInput");if(t){t.value=e,t.select(),t.setSelectionRange(0,99999);try{document.execCommand("copy")?(Utils.showNotification("Link copied to clipboard!"),this.closeShareMenu()):Utils.showNotification("Failed to copy. Please copy manually from above.")}catch(e){Utils.showNotification("Failed to copy. Please copy manually from above.")}}},applyUrlParams(){const e=new URLSearchParams(window.location.search),t=e.get("motorhome"),o=e.get("start_date"),n=e.get("end_date");if(t&&"adria-s75-sl-2023"===t&&o&&n)try{const e=Utils.parseDateFromURL(o),s=Utils.parseDateFromURL(n);e&&s&&e<=s&&(MOTORHOMES_DATA.selectedDates.start=e,MOTORHOMES_DATA.selectedDates.end=s,this.updateSelectedPeriod(),this.updatePrices(),setTimeout((()=>{const e=document.getElementById(`motorhome-${t}`);e&&e.scrollIntoView({behavior:"smooth"})}),500),console.log("Applied dates from URL:",e,s))}catch(e){console.error("Error parsing dates from URL:",e)}},initBookingModal(){const e=document.getElementById("bookingModal"),t=document.getElementById("bookingClose"),o=document.getElementById("bookNowButton"),n=document.getElementById("bookingForm");function s(){e.classList.remove("active"),document.body.style.overflow="auto"}o&&e&&(o.addEventListener("click",(t=>{t.preventDefault(),this.updateBookingInfo(),e.classList.add("active"),document.body.style.overflow="hidden"})),t?.addEventListener("click",s),e.addEventListener("click",(t=>{t.target===e&&s()})),n&&n.addEventListener("submit",(e=>{e.preventDefault();const t={name:document.getElementById("bookingName").value,email:document.getElementById("bookingEmail").value,phone:document.getElementById("bookingPhone").value,notes:document.getElementById("bookingNotes").value,period:document.getElementById("bookingPeriod").textContent,price:document.getElementById("bookingPrice").textContent,motorhome:"Adria S75 SL 2023"};console.log("Booking submitted:",t),alert(`Booking confirmed!\n\nPeriod: ${t.period}\nTotal: ${t.price}\n\nWe will contact you at ${t.email} shortly.`),s(),n.reset()})))},updateBookingInfo(){const e=document.getElementById("bookingPeriod"),t=document.getElementById("bookingPrice");e&&(e.textContent=document.getElementById("selectedPeriod").textContent),t&&(t.textContent=document.getElementById("totalPrice").textContent)}},RoutesModule={init(){this.initSwipers(),this.initMarkers(),this.initSlideHover(),this.initTabHandlers()},initSwipers(){const e=document.querySelector("#route-1 .swiper"),t=document.querySelector("#route-2 .swiper");e&&(swipers.norway=new Swiper(e,{direction:"horizontal",loop:!1,pagination:{el:"#route-1 .swiper-pagination",clickable:!0},navigation:{nextEl:"#route-1 .swiper-button-next",prevEl:"#route-1 .swiper-button-prev"}}),swipers.norway.on("slideChange",(function(){RoutesModule.highlightMarker("norway",this.activeIndex)}))),t&&(swipers.austria=new Swiper(t,{direction:"horizontal",loop:!1,pagination:{el:"#route-2 .swiper-pagination",clickable:!0},navigation:{nextEl:"#route-2 .swiper-button-next",prevEl:"#route-2 .swiper-button-prev"}}),swipers.austria.on("slideChange",(function(){RoutesModule.highlightMarker("austria",this.activeIndex)})))},highlightMarker(e,t){const o=document.getElementById(`${e}-markers`);if(!o)return;const n=o.querySelectorAll(".marker"),s=o.querySelectorAll(".marker-popup");n.forEach((e=>e.classList.remove("active"))),s.forEach((e=>e.classList.remove("show")));const a=t+1,i=o.querySelector(`.marker[data-day="${a}"]`),r=o.querySelector(`#popup-${a}-${e}`);if(i&&i.classList.add("active"),r){const e=i.offsetTop,t=i.offsetLeft;r.style.top=e-r.offsetHeight-10+"px",r.style.left=`${t}px`,r.classList.add("show"),setTimeout((()=>{r.classList.remove("show")}),3e3)}},initTabHandlers(){document.querySelectorAll(".routes-tabs--btn").forEach((e=>{e.addEventListener("click",(function(){const e=this.dataset.route;RoutesModule.switchRoute(e)}))}))},switchRoute(e){document.querySelectorAll(".routes-tabs--btn").forEach((t=>{t.classList.remove("active"),t.dataset.route===e&&t.classList.add("active")})),document.querySelectorAll(".routes__item").forEach((e=>{e.classList.remove("active")})),"norway"===e?document.getElementById("route-1")?.classList.add("active"):document.getElementById("route-2")?.classList.add("active"),this.updateMap(e),swipers[e]&&swipers[e].slideTo(0),currentRoute=e},updateMap(e){document.querySelectorAll(".map-image").forEach((e=>e.classList.remove("active"))),document.querySelectorAll(".markers-container").forEach((e=>e.classList.remove("active"))),document.querySelectorAll(".route-line").forEach((e=>e.classList.remove("active")));const t=ROUTES_DATA[e];document.getElementById(t.map)?.classList.add("active"),document.getElementById(t.markers)?.classList.add("active");const o=document.querySelector(`#${t.markers} .route-line`);o&&o.classList.add("active")},initMarkers(){["norway","austria"].forEach((e=>{const t=document.getElementById(`${e}-markers`);if(!t)return;const o=t.querySelectorAll(".marker");t.querySelectorAll(".marker-popup");o.forEach((o=>{const n=o.getAttribute("data-day"),s=t.querySelector(`#popup-${n}-${e}`);o.addEventListener("mouseenter",(function(){if(this.classList.add("active"),s){const e=this.offsetTop,t=this.offsetLeft;s.style.top=e-s.offsetHeight-10+"px",s.style.left=`${t}px`,s.classList.add("show")}currentRoute===e&&swipers[e]&&swipers[e].slideTo(parseInt(n)-1)})),o.addEventListener("mouseleave",(function(){this.classList.remove("active"),s&&s.classList.remove("show")})),o.addEventListener("click",(function(){currentRoute===e&&swipers[e]&&swipers[e].slideTo(parseInt(n)-1)}))}))}))},initSlideHover(){document.querySelectorAll(".swiper-slide").forEach(((e,t)=>{e.addEventListener("mouseenter",(function(){const e=document.querySelector(".routes__item.active")?.id,o="route-1"===e?"norway":"austria",n=document.getElementById(`${o}-markers`);if(!n)return;const s=n.querySelectorAll(".marker"),a=n.querySelectorAll(".marker-popup");s.forEach((e=>e.classList.remove("active"))),a.forEach((e=>e.classList.remove("show")));const i=t+1,r=n.querySelector(`.marker[data-day="${i}"]`),c=n.querySelector(`#popup-${i}-${o}`);if(r&&r.classList.add("active"),c){const e=r.offsetTop,t=r.offsetLeft;c.style.top=e-c.offsetHeight-10+"px",c.style.left=`${t}px`,c.classList.add("show")}})),e.addEventListener("mouseleave",(function(){const e=document.querySelector(".routes__item.active")?.id,t="route-1"===e?"norway":"austria",o=document.getElementById(`${t}-markers`);if(!o)return;const n=o.querySelectorAll(".marker"),s=o.querySelectorAll(".marker-popup");n.forEach((e=>e.classList.remove("active"))),s.forEach((e=>e.classList.remove("show")))}))}))}},ReviewsModule={init(){const e=document.querySelector(".reviews-slider");if(!e)return;const t=new Swiper(e,{slidesPerView:1,spaceBetween:10,loop:!1,navigation:{nextEl:"#reviewsNext",prevEl:"#reviewsPrev"},breakpoints:{768:{slidesPerView:2,spaceBetween:10},992:{slidesPerView:3,spaceBetween:10}}});function o(){let e;e=window.innerWidth<768?1:window.innerWidth<992?2:3;const o=t.realIndex+1,n=Math.max(t.slides.length-e+1,1),s=document.getElementById("currentSlide"),a=document.getElementById("totalSlides");s&&(s.textContent=o),a&&(a.textContent=n);const i=document.getElementById("reviewsPagination");if(i){i.innerHTML="";for(let e=0;e<n;e++){const o=document.createElement("div");o.className="reviews__pagination--bullet"+(e===t.realIndex?" active":""),o.setAttribute("data-index",e),o.setAttribute("aria-label",`Go to review ${e+1}`),o.addEventListener("click",(()=>t.slideTo(e))),i.appendChild(o)}}}o(),t.on("slideChange",(function(){let e;e=window.innerWidth<768?1:window.innerWidth<992?2:3;const o=t.realIndex+1,n=Math.max(t.slides.length-e+1,1),s=document.getElementById("currentSlide"),a=document.getElementById("totalSlides");s&&(s.textContent=o),a&&(a.textContent=n),function(){const e=document.querySelectorAll(".reviews__pagination--bullet"),o=t.realIndex;e.forEach(((e,t)=>{t===o?e.classList.add("active"):e.classList.remove("active")}))}()})),window.addEventListener("resize",(function(){o()}))}},FAQModule={init(){const e=document.querySelectorAll(".faq__item"),t=document.getElementById("faqMore"),o=document.querySelectorAll(".faq__item.hidden");if(0===e.length)return;let n=!1;function s(t){const o=t.classList.contains("active");e.forEach((e=>e.classList.remove("active"))),o||t.classList.add("active")}e.forEach((e=>{e.addEventListener("click",(function(e){e.target!==t&&s(this)}))})),t&&o.length>0&&t.addEventListener("click",(function(){n?(o.forEach((e=>{e.classList.add("hidden"),e.classList.remove("show"),e.classList.remove("active")})),this.textContent="View more",n=!1,document.getElementById("faq")?.scrollIntoView({behavior:"smooth",block:"start"})):(o.forEach((e=>{e.classList.remove("hidden"),e.classList.add("show")})),this.textContent="Show less",n=!0)})),e[0]?.classList.add("active"),this.initKeyboardNavigation(e,o)},initKeyboardNavigation(e,t){document.addEventListener("keydown",(function(e){const t=document.querySelector(".faq__item.active"),o=document.querySelectorAll(".faq__item:not(.hidden)");if(!t)return;const n=Array.from(o).indexOf(t);switch(e.key){case"ArrowDown":e.preventDefault(),n<o.length-1&&(FAQModule.toggleItem(o[n+1]),o[n+1].focus());break;case"ArrowUp":e.preventDefault(),n>0&&(FAQModule.toggleItem(o[n-1]),o[n-1].focus());break;case"Home":e.preventDefault(),FAQModule.toggleItem(o[0]),o[0].focus();break;case"End":e.preventDefault(),FAQModule.toggleItem(o[o.length-1]),o[o.length-1].focus();break;case"Escape":FAQModule.closeAllItems()}}))},closeAllItems(){document.querySelectorAll(".faq__item").forEach((e=>e.classList.remove("active")))},toggleItem(e){const t=e.classList.contains("active");this.closeAllItems(),t||e.classList.add("active")}};document.addEventListener("DOMContentLoaded",(function(){console.log("DOM loaded, initializing all modules..."),Utils.initSmoothScroll(),Utils.initHeaderScroll(),MotorhomesModule.init(),RoutesModule.init(),ReviewsModule.init(),FAQModule.init(),window.addEventListener("resize",(()=>{MOTORHOMES_DATA.swiper&&MOTORHOMES_DATA.swiper.update()})),console.log("All modules initialized successfully")}));